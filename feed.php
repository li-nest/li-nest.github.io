<<<<<<< HEAD
<?xml version="1.0" encoding="utf-8"?>
<!-- generator="FeedCreator 1.7.2-ppt DokuWiki" -->
<?xml-stylesheet href="http://cse-apps2.case.edu/panli/lib/styles/feed.css" type="text/css"?>
<rdf:RDF
    xmlns="http://purl.org/rss/1.0/"
    xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
    xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
    xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel rdf:about="http://cse-apps2.case.edu/panli/feed.php">
        <title>Pan Li's Home Page</title>
        <description></description>
        <link>http://cse-apps2.case.edu/panli/</link>
        <image rdf:resource="http://cse-apps2.case.edu/panli/lib/images/favicon.ico" />
       <dc:date>2023-10-13T19:58:59-04:00</dc:date>
        <items>
            <rdf:Seq>
                <rdf:li rdf:resource="http://cse-apps2.case.edu/panli/doku.php?id=publications&amp;amp;rev=1696738473&amp;do=diff1696738473"/>
                <rdf:li rdf:resource="http://cse-apps2.case.edu/panli/doku.php?id=teaching:eecs351&amp;amp;rev=1695962960&amp;do=diff1695962960"/>
                <rdf:li rdf:resource="http://cse-apps2.case.edu/panli/doku.php?id=main&amp;amp;rev=1693334007&amp;do=diff1693334007"/>
                <rdf:li rdf:resource="http://cse-apps2.case.edu/panli/doku.php?id=teaching:eecs354&amp;amp;rev=1682240227&amp;do=diff1682240227"/>
            </rdf:Seq>
        </items>
    </channel>
    <image rdf:about="http://cse-apps2.case.edu/panli/lib/images/favicon.ico">
        <title>Pan Li's Home Page</title>
        <link>http://cse-apps2.case.edu/panli/</link>
        <url>http://cse-apps2.case.edu/panli/lib/images/favicon.ico</url>
    </image>
    <item rdf:about="http://cse-apps2.case.edu/panli/doku.php?id=publications&amp;amp;rev=1696738473&amp;do=diff1696738473">
        <dc:format>text/html</dc:format>
        <dc:date>2023-10-08T00:14:33-04:00</dc:date>
        <dc:creator>Pan Li</dc:creator>
        <title>publications</title>
        <link>http://cse-apps2.case.edu/panli/doku.php?id=publications&amp;amp;rev=1696738473&amp;do=diff1696738473</link>
        <description>------

Conference Papers

	*  Tianxi Ji and Pan Li, “Less is More: Revisiting the Gaussian Mechanism for Differential Privacy,” the the 33rd USENIX Security Symposium, Philadelphia, PA, August 14-16, 2024. (Acceptance rate: 98/515=19% for Summer’23)
	*  Srinivasan Murali, Wenqiang Jin,  Vighnesh Sivaraman, Huadi Zhu, Tianxi Ji, Pan Li, and Ming Li, “Continuous Authentication Using Human-Induced Electric Potential,” the Applied Computer Security Applications Conference (ACSAC), Austin,…</description>
    </item>
    <item rdf:about="http://cse-apps2.case.edu/panli/doku.php?id=teaching:eecs351&amp;amp;rev=1695962960&amp;do=diff1695962960">
        <dc:format>text/html</dc:format>
        <dc:date>2023-09-29T00:49:20-04:00</dc:date>
        <dc:creator>Pan Li</dc:creator>
        <title>teaching:eecs351</title>
        <link>http://cse-apps2.case.edu/panli/doku.php?id=teaching:eecs351&amp;amp;rev=1695962960&amp;do=diff1695962960</link>
        <description>General Information

	*  Syllabus: [08/29/2023]
	*  Meeting time: 4:50PM -6:05PM, TR
	*  Meeting Location: Nord 212
	*   Office Hours: by appointment



Announcements

	*  Textbook: Simon Haykin and Michael Moher, Communication Systems, 5th Ed., Wiley, 2009. ISBN-10: 0471697907. ISBN-13: 978-0471697909.</description>
    </item>
    <item rdf:about="http://cse-apps2.case.edu/panli/doku.php?id=main&amp;amp;rev=1693334007&amp;do=diff1693334007">
        <dc:format>text/html</dc:format>
        <dc:date>2023-08-29T14:33:27-04:00</dc:date>
        <dc:creator>Pan Li</dc:creator>
        <title>main</title>
        <link>http://cse-apps2.case.edu/panli/doku.php?id=main&amp;amp;rev=1693334007&amp;do=diff1693334007</link>
        <description>Click here for details.

----------

 “”---

 

	*  Congratulations to Tianxi, who has accepted an assistant professor position in the Department of Computer Science at Texas Tech University! (06/30/2022)
	*  Congratulations to Yifan, who has accepted an assistant professor position in the Department of Computer and Information Sciences and Engineering at Towson University! (06/30/2022)
	*  Congratulations to Dr. Ming Li, our former member, who has been awarded tenure with promotion to Assoc…</description>
    </item>
    <item rdf:about="http://cse-apps2.case.edu/panli/doku.php?id=teaching:eecs354&amp;amp;rev=1682240227&amp;do=diff1682240227">
        <dc:format>text/html</dc:format>
        <dc:date>2023-04-23T04:57:07-04:00</dc:date>
        <dc:creator>Pan Li</dc:creator>
        <title>teaching:eecs354</title>
        <link>http://cse-apps2.case.edu/panli/doku.php?id=teaching:eecs354&amp;amp;rev=1682240227&amp;do=diff1682240227</link>
        <description>General Information

	*  Meeting time: 1PM -- 2:15PM TR
	*   Office Hours: by appointment

	*  Syllabus: [01/17/2023]



Announcements

	*  Textbook: Simon Haykin and Michael Moher, Communication Systems, 5th Ed., Wiley, 2009. ISBN-10: 0471697907. ISBN-13: 978-0471697909.</description>
    </item>
</rdf:RDF>
=======
<?php
/**
 * XML feed export
 *
 * @license    GPL 2 (http://www.gnu.org/licenses/gpl.html)
 * @author     Andreas Gohr <andi@splitbrain.org>
 */

  if(!defined('DOKU_INC')) define('DOKU_INC',realpath(dirname(__FILE__)).'/');
  require_once(DOKU_INC.'inc/init.php');
  require_once(DOKU_INC.'inc/common.php');
  require_once(DOKU_INC.'inc/events.php');
  require_once(DOKU_INC.'inc/parserutils.php');
  require_once(DOKU_INC.'inc/feedcreator.class.php');
  require_once(DOKU_INC.'inc/auth.php');
  require_once(DOKU_INC.'inc/pageutils.php');

  //close session
  session_write_close();


  $num   = $_REQUEST['num'];
  $type  = $_REQUEST['type'];
  $mode  = $_REQUEST['mode'];
  $minor = $_REQUEST['minor'];
  $ns    = $_REQUEST['ns'];
  $ltype = $_REQUEST['linkto'];

  if($type == '')
    $type = $conf['rss_type'];

  switch ($type){
    case 'rss':
       $type = 'RSS0.91';
       $mime = 'text/xml';
       break;
    case 'rss2':
       $type = 'RSS2.0';
       $mime = 'text/xml';
       break;
    case 'atom':
       $type = 'ATOM0.3';
       $mime = 'application/xml';
       break;
    case 'atom1':
       $type = 'ATOM1.0';
       $mime = 'application/atom+xml';
       break;
    default:
       $type = 'RSS1.0';
       $mime = 'application/xml';
  }

  // the feed is dynamic - we need a cache for each combo
  // (but most people just use the default feed so it's still effective)
  $cache = getCacheName($num.$type.$mode.$ns.$ltype.$_SERVER['REMOTE_USER'],'.feed');

  // check cacheage and deliver if nothing has changed since last
  // time or the update interval has not passed, also handles conditional requests
  header('Cache-Control: must-revalidate, post-check=0, pre-check=0');
  header('Pragma: public');
  header('Content-Type: application/xml; charset=utf-8');
  $cmod = @filemtime($cache); // 0 if not exists
  if($cmod && (($cmod+$conf['rss_update']>time()) || ($cmod>@filemtime($conf['changelog'])))){
    http_conditionalRequest($cmod);
    if($conf['allowdebug']) header("X-CacheUsed: $cache");
    print io_readFile($cache);
    exit;
  } else {
    http_conditionalRequest(time());
  }

  // create new feed
  $rss = new DokuWikiFeedCreator();
  $rss->title = $conf['title'].(($ns) ? ' '.$ns : '');
  $rss->link  = DOKU_URL;
  $rss->syndicationURL = DOKU_URL.'feed.php';
  $rss->cssStyleSheet  = DOKU_URL.'lib/styles/feed.css';

  $image = new FeedImage();
  $image->title = $conf['title'];
  $image->url = DOKU_URL."lib/images/favicon.ico";
  $image->link = DOKU_URL;
  $rss->image = $image;

  if($mode == 'list'){
    rssListNamespace($rss,$ns);
  }else{
    rssRecentChanges($rss,$num,$ltype,$ns,$minor);
  }

  $feed = $rss->createFeed($type,'utf-8');

  // save cachefile
  io_saveFile($cache,$feed);

  // finally deliver
  print $feed;

// ---------------------------------------------------------------- //

/**
 * Add recent changed pages to a feed object
 *
 * @author Andreas Gohr <andi@splitbrain.org>
 */
function rssRecentChanges(&$rss,$num,$ltype,$ns,$minor){
    global $conf;
    global $auth;

    if(!$num) $num = $conf['recent'];
    $guardmail = ($conf['mailguard'] != '' && $conf['mailguard'] != 'none');


    $flags = RECENTS_SKIP_DELETED;
    if(!$minor) $flags += RECENTS_SKIP_MINORS;

    $recents = getRecents(0,$num,$ns,$flags);

    foreach($recents as $recent){
        $item = new FeedItem();
        $meta = p_get_metadata($recent['id']);

        if($conf['useheading'] && $meta['title']){
            $item->title = $meta['title'];
        }else{
            $item->title = $recent['id'];
        }
        if(!empty($recent['sum'])){
            $item->title .= ' - '.strip_tags($recent['sum']);
        }

        if(empty($ltype)) $ltype = $conf['rss_linkto'];

        switch ($ltype){
            case 'page':
                $item->link = wl($recent['id'],'rev='.$recent['date'],true);
                break;
            case 'rev':
                $item->link = wl($recent['id'],'do=revisions&rev='.$recent['date'],true);
                break;
            case 'current':
                $item->link = wl($recent['id'], '', true);
                break;
            case 'diff':
            default:
                $item->link = wl($recent['id'],'rev='.$recent['date'].'&do=diff'.$recent['date'],true);
        }

        $item->description = $meta['description']['abstract'];
        $item->date        = date('r',$recent['date']);
        $cat = getNS($recent['id']);
        if($cat) $item->category = $cat;

        // FIXME should the user be pulled from metadata as well?
        $user = null;
        $user = @$recent['user']; // the @ spares time repeating lookup
        $item->author = '';

        if($user){
            $userInfo = $auth->getUserData($user);
            $item->author = $userInfo['name'];
            if($guardmail) {
            //cannot obfuscate because some RSS readers may check validity
                $item->authorEmail = $user.'@'.$recent['ip'];
            }else{
                $item->authorEmail = $userInfo['mail'];
            }
        }else{
            $item->authorEmail = 'anonymous@'.$recent['ip'];
        }
        $rss->addItem($item);
    }
}

/**
 * Add all pages of a namespace to a feedobject
 *
 * @author Andreas Gohr <andi@splitbrain.org>
 */
function rssListNamespace(&$rss,$ns){
    require_once(DOKU_INC.'inc/search.php');
    global $conf;

    $ns=':'.cleanID($ns);
    $ns=str_replace(':','/',$ns);

    $data = array();
    sort($data);
    search($data,$conf['datadir'],'search_list','',$ns);
    foreach($data as $row){
        $item = new FeedItem();

        $id   = $row['id'];
        $date = filemtime(wikiFN($id));
        $meta = p_get_metadata($id);

        if($conf['useheading'] && $meta['title']){
            $item->title = $meta['title'];
        }else{
            $item->title = $id;
        }

        $item->link        = wl($id,'rev='.$date,true);
        $item->description = $meta['description']['abstract'];
        $item->date        = date('r',$date);
        $rss->addItem($item);
  }
}

//Setup VIM: ex: et ts=4 enc=utf-8 :
?>
>>>>>>> 326bafa92c59df0ee9f51acf501a3657c7fc22b1
